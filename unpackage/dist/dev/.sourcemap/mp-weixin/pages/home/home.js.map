{"version":3,"sources":["uni-app:///main.js",null,"webpack:///E:/dahai/wlyn/getOil/pages/home/home.vue?e8bf","webpack:///E:/dahai/wlyn/getOil/pages/home/home.vue?3c91","webpack:///E:/dahai/wlyn/getOil/pages/home/home.vue?ce3b","uni-app:///pages/home/home.vue","webpack:///E:/dahai/wlyn/getOil/pages/home/home.vue?a276","webpack:///E:/dahai/wlyn/getOil/pages/home/home.vue?0e1d"],"names":["createPage","Page"],"mappings":";;;;;;;;;;;;;;;;;;;;kDAAA;AACA;AACA,yF;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACwD;AACL;AACsC;;;AAGzF;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,qTAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAA+nB,CAAgB,8mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0CnpB,2D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAIA,EACA,IADA,kBACA,CACA,SACA,SADA,EAEA,gBAFA,EAGA,QAHA,GAKA,CAPA,EAQA,MARA,oBAQA,CACA,+CACA,iBACA,mBACA,CACA,kBACA,eACA,CAfA,EAgBA,WACA,UADA,wBACA;AAEA,gDACA,+CACA;AACA,mCACA,CAHA,EAIA,yCACA,eACA,aADA,EAEA,2BAFA,EAGA,gCACA,kBACA;AACA,0CACA,CACA,CARA,IAUA,CAXA,EAYA,0CACA;AACA,OAFA,EAIA,CAxBA,EAyBA,OAzBA,qBAyBA;AACA;AACA;AACA;AACA,SAHA;;AAKA,KA/BA;AAgCA,kBAhCA,0BAgCA,CAhCA,EAgCA;AACA;AACA,mCADA;AAEA,yBAFA;AAGA,6CAHA;AAIA,uBAJA;;AAMA;AACA;AACA;AACA,wBADA;AAEA,6CAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAbA;AAcA,KArDA;AAsDA,eAtDA,yBAsDA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA,KA7DA;AA8DA,YA9DA,sBA8DA;AACA;AACA,iHADA;;AAGA,KAlEA;AAmEA,mBAnEA,6BAmEA;AACA;AACA,mCADA;AAEA,gBAFA;AAGA,eAHA,mBAGA,GAHA,EAGA,EAHA;;AAKA,KAzEA;AA0EA,aA1EA,uBA0EA;AACA;AACA,iCADA;;AAGA,KA9EA,EAhBA,E;;;;;;;;;;;;;AC9CA;AAAA;AAAA;AAAA;AAAorC,CAAgB,glCAAG,EAAC,C;;;;;;;;;;ACAxsC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/home/home.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/home/home.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./home.vue?vue&type=template&id=92bb8f34&scoped=true&\"\nvar renderjs\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home.vue?vue&type=style&index=0&id=92bb8f34&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"92bb8f34\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/home/home.vue\"\nexport default component.exports","export * from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=template&id=92bb8f34&scoped=true&\"","var components\ntry {\n  components = {\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=script&lang=js&\"","<template>\r\n  <view>\r\n    <view class=\"status_bar\">\r\n      <!-- 这是状态栏 -->\r\n    </view>\r\n    <view class=\"miniProgram-title\">\r\n      我爱加油\r\n    </view>\r\n    <image class=\"img\" src=\"../../static/logo.png\" mode=\"\" v-if=\"!phone\"></image>\r\n    <view class=\"top\" v-if=\"phone && !realNameList.length\">\r\n      <image class=\"img\" src=\"../../static/home1.png\" mode=\"\"></image>\r\n      <view class=\"\">您暂时没有可领取的油券哦!</view>\r\n      <view class=\"number\">当前账号：<text>{{phone}}</text></view>\r\n    </view>\r\n    <view class=\"top2\" v-if=\"phone && realNameList.length\">\r\n      <image class=\"img\" src=\"../../static/home2.png\" mode=\"\"></image>\r\n      <view class=\"top2-right\">\r\n        <view class=\"\">您有可领取的油券哦!</view>\r\n        <view class=\"number\">当前账号：<text>{{phone}}</text></view>\r\n      </view>\r\n    </view>\r\n    <button class=\"phone-btn btn1\" v-if=\"!phone\" open-type=\"getPhoneNumber\"\r\n      @getphonenumber=\"getPhoneNumber\">领取油券</button>\r\n    <button class=\"phone-btn btn2\" v-if=\"phone && realNameList.length\" @click=\"gotoPage\">去领取油券</button>\r\n    <view class=\"tips\" v-if=\"phone && realNameList.length\">(点击“去领取油券”即可领取权益)</view>\r\n\r\n    <view class=\"qrcode-img\">\r\n      <view class=\"p\">如您已经领取了油券 </view>\r\n      <view class=\"goto\" @click=\"gotoMiniProgram\">去加油-打开大家来加油</view>\r\n      <view class=\"gd-code\" @click=\"gotoMiniProgram\"></view>\r\n      <view class=\"bottom-tips\">（或长按识别上方小程序码）</view>\r\n    </view>\r\n    <view class=\"bottom\">\r\n      <view>本服务由共幸科技（深圳）有限公司提供</view>\r\n      <view @click=\"callPhone\">\r\n        <uni-icons type=\"phone\" size=\"14\" style=\"margin-right: 12rpx;\"></uni-icons>400-6310-818\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n  import {\r\n    getWxUserPhone,\r\n    checkOilCardInterests\r\n  } from '@/api/index.js'\r\n  export default {\r\n    data() {\r\n      return {\r\n        phone: '',\r\n        realNameList: [],\r\n        code: ''\r\n      };\r\n    },\r\n    onShow() {\r\n      this.phone = uni.getStorageSync('phone') || ''\r\n      if (this.phone) {\r\n        this.getRealName()\r\n      }\r\n      this.getVersion()\r\n      this.getCode()\r\n    },\r\n    methods: {\r\n      getVersion() { //获取版本更新\r\n        //#ifdef MP-WEIXIN\r\n        const updateManager = wx.getUpdateManager()\r\n        updateManager.onCheckForUpdate(function(res) {\r\n          // 请求完新版本信息的回调\r\n          console.log(res.hasUpdate)\r\n        })\r\n        updateManager.onUpdateReady(function() {\r\n          wx.showModal({\r\n            title: '更新提示',\r\n            content: '新版本已经准备好，是否重启应用？',\r\n            success: function(res) {\r\n              if (res.confirm) {\r\n                // 新的版本已经下载好，调用 applyUpdate 应用新版本并重启\r\n                updateManager.applyUpdate()\r\n              }\r\n            }\r\n          })\r\n        })\r\n        updateManager.onUpdateFailed(function() {\r\n          // 新版本下载失败\r\n        })\r\n        //#endif\r\n      },\r\n      getCode() {\r\n        uni.login({ //获取code\r\n          success: (login) => {\r\n            this.code = login.code\r\n          }\r\n        })\r\n      },\r\n      getPhoneNumber(e) { //获取手机号\r\n        let data = {\r\n          appId: \"wxd314dbda841995f5\",\r\n          wxCode: this.code,\r\n          encryptedData: e.detail.encryptedData,\r\n          iv: e.detail.iv\r\n        }\r\n        getWxUserPhone(data).then(res => {\r\n          if (res.code != 200) {\r\n            uni.showToast({\r\n              icon: 'none',\r\n              title: res.msg || '获取手机号失败,请重新获取'\r\n            })\r\n            this.getCode()\r\n            return\r\n          }\r\n          this.phone = res.data\r\n          uni.setStorageSync('phone', this.phone)\r\n          this.getRealName()\r\n          console.log('获取手机号成功', res.data)\r\n        })\r\n      },\r\n      getRealName() { //通过手机号获取姓名\r\n        if (!this.phone) return\r\n        checkOilCardInterests(this.phone).then((res) => {\r\n          if (res.data && res.data.length) {\r\n            this.realNameList = res.data.map(item => item.usedName)\r\n          }\r\n        })\r\n      },\r\n      gotoPage() {\r\n        uni.navigateTo({\r\n          url: `/pages/index/index?phone=${this.phone}&realNameList=${this.realNameList.join(',')}`\r\n        })\r\n      },\r\n      gotoMiniProgram() { //跳转小程序\r\n        uni.navigateToMiniProgram({\r\n          appId: 'wx32fe2eb8b2fa221f',\r\n          path: '',\r\n          success(res) {}\r\n        })\r\n      },\r\n      callPhone() { //拨打电话\r\n        uni.makePhoneCall({\r\n          phoneNumber: '4006310818'\r\n        });\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .img {\r\n    width: 240rpx;\r\n    height: 272rpx;\r\n    display: block;\r\n    margin: 140rpx auto 0;\r\n  }\r\n\r\n  .number {\r\n    margin-top: 8rpx;\r\n    font-weight: normal;\r\n    font-size: 14px;\r\n    line-height: 18px;\r\n    color: #666666;\r\n\r\n    text {\r\n      font-size: 12px;\r\n      color: #666666;\r\n    }\r\n  }\r\n\r\n  .top {\r\n    margin-top: 80rpx;\r\n    text-align: center;\r\n\r\n    .img {\r\n      width: 234rpx;\r\n      height: 228rpx;\r\n      display: block;\r\n      margin: 140rpx auto 0;\r\n    }\r\n\r\n    view:nth-child(2) {\r\n      font-weight: bold;\r\n      font-size: 18px;\r\n      line-height: 25px;\r\n      margin-top: 80rpx;\r\n      color: #333333;\r\n    }\r\n  }\r\n\r\n  .top2 {\r\n    display: flex;\r\n    width: 568rpx;\r\n    height: 168rpx;\r\n    margin: 140rpx auto 0;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n\r\n    .img {\r\n      width: 192rpx;\r\n      height: 168rpx;\r\n      margin: 0;\r\n    }\r\n\r\n    .top2-right {\r\n      view:nth-child(1) {\r\n        font-weight: bold;\r\n        font-size: 18px;\r\n        line-height: 25px;\r\n        color: #333333;\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  .tips {\r\n    font-weight: normal;\r\n    font-size: 11px;\r\n    line-height: 15px;\r\n    text-align: center;\r\n    margin-top: 28rpx;\r\n    color: #666666;\r\n  }\r\n\r\n  .common-btn {\r\n    display: block;\r\n    color: #fff;\r\n    margin: 0rpx auto;\r\n    text-align: center;\r\n    background: linear-gradient(145.43deg, #ffaf9b 10.56%, #f14f44 91.33%);\r\n    border-radius: 16rpx;\r\n    font-weight: bold;\r\n    font-size: 32rpx;\r\n\r\n    &::after {\r\n      border: none;\r\n    }\r\n  }\r\n\r\n  .phone-btn {\r\n    @extend .common-btn;\r\n    font-size: 16px;\r\n    height: 88rpx;\r\n    line-height: 88rpx;\r\n    width: 600rpx;\r\n  }\r\n\r\n  .btn1 {\r\n    margin-top: 80rpx;\r\n  }\r\n\r\n  .btn2 {\r\n    margin-top: 160rpx;\r\n  }\r\n\r\n  .common {\r\n    width: 702rpx;\r\n    margin: 0 auto 16rpx;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  .qrcode-img {\r\n    @extend .common;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    padding-bottom: 40rpx;\r\n    margin-top: 140rpx;\r\n\r\n    .gd-code {\r\n      background: url(\"https://gz.bcebos.com/v1/zhijianche/691983a5-1f6c-4f41-8bd8-a5449d4f5293.png\");\r\n    }\r\n\r\n    .gd-code {\r\n      height: 300rpx;\r\n      width: 300rpx;\r\n      background-size: 100% 100%;\r\n      border-radius: 30rpx;\r\n    }\r\n\r\n    .p {\r\n      font-weight: bold;\r\n      font-size: 15px;\r\n      line-height: 21px;\r\n      color: #333333;\r\n    }\r\n\r\n    .goto {\r\n      margin-top: 20rpx;\r\n      font-weight: normal;\r\n      font-size: 12px;\r\n      text-align: center;\r\n      color: #005DE9;\r\n    }\r\n\r\n    .bottom-tips {\r\n      font-size: 11px;\r\n      line-height: 15px;\r\n      text-align: center;\r\n      color: #666666;\r\n    }\r\n  }\r\n\r\n  .bottom {\r\n    text-align: center;\r\n    font-weight: normal;\r\n    font-size: 11px;\r\n    margin-top: 106rpx;\r\n    padding-bottom: 40rpx;\r\n\r\n    view:nth-child(1) {\r\n      line-height: 15px;\r\n      color: #999999;\r\n\r\n    }\r\n\r\n    view:nth-child(2) {\r\n      margin-top: 14rpx;\r\n      line-height: 16px;\r\n      color: #005DE9;\r\n    }\r\n  }\r\n</style>\n","import mod from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=style&index=0&id=92bb8f34&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=style&index=0&id=92bb8f34&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1641450619495\n      var cssReload = require(\"E:/软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}