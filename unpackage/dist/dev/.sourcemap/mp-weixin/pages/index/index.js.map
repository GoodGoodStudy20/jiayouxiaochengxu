{"version":3,"sources":["uni-app:///main.js",null,"webpack:///E:/dahai/wlyn/getOil/pages/index/index.vue?0e5a","webpack:///E:/dahai/wlyn/getOil/pages/index/index.vue?09a3","webpack:///E:/dahai/wlyn/getOil/pages/index/index.vue?3717","uni-app:///pages/index/index.vue","webpack:///E:/dahai/wlyn/getOil/pages/index/index.vue?3356","webpack:///E:/dahai/wlyn/getOil/pages/index/index.vue?5a93","webpack:///E:/dahai/wlyn/getOil/pages/index/index.vue?7c32","webpack:///E:/dahai/wlyn/getOil/pages/index/index.vue?6c82"],"names":["createPage","Page"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=57280228&lang=scss&scoped=true&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57280228\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=57280228&scoped=true&\"","var components\ntry {\n  components = {\n    uniForms: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-forms/components/uni-forms/uni-forms\" */ \"@/uni_modules/uni-forms/components/uni-forms/uni-forms.vue\"\n      )\n    },\n    uniFormsItem: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-forms/components/uni-forms-item/uni-forms-item\" */ \"@/uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.vue\"\n      )\n    },\n    uniEasyinput: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput\" */ \"@/uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.vue\"\n      )\n    },\n    uniDataCheckbox: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox\" */ \"@/uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n  <view>\r\n    <view class=\"status_bar\">\r\n      <!-- 这是状态栏 -->\r\n    </view>\r\n    <view class=\"miniProgram-title\">\r\n      油券领取\r\n    </view>\r\n    <view class=\"step-box\">\r\n      <view class=\"step\" @click=\"clickStep(0)\">\r\n        <image class=\"img\" src=\"../../static/active1.png\" mode=\"\"></image>\r\n        <text class=\"p\">基本信息</text>\r\n      </view>\r\n      <view class=\"line\" :class=\"active>=1?'active-line':''\"></view>\r\n      <view class=\"step\" @click=\"clickStep(1)\">\r\n        <image class=\"img\" :src=\"`../../static/${active>=1?'':'in'}active2.png`\" mode=\"\"></image>\r\n        <text class=\"p\">实名认证</text>\r\n      </view>\r\n      <view class=\"line\" :class=\"active==2?'active-line':''\"></view>\r\n      <view class=\"step\" @click=\"clickStep(2)\">\r\n        <image class=\"img\" :src=\"`../../static/${active==2?'':'in'}active3.png`\" mode=\"\"></image>\r\n        <text class=\"p\">领取成功</text>\r\n      </view>\r\n    </view>\r\n\r\n    <view v-if=\"active==0\">\r\n      <view class=\"input-box\">\r\n        <uni-forms ref=\"form\" border label-width=\"90\">\r\n          <uni-forms-item label=\"手机号码：\" name=\"phone\">\r\n            <uni-easyinput v-if=\"form.phone\" type=\"number\" v-model=\"form.phone\" disabled :inputBorder=\"false\"\r\n              placeholder=\"请输入充值号码\" maxlength=\"11\" />\r\n          </uni-forms-item>\r\n          <uni-forms-item label=\"真实姓名：\" name=\"realName\">\r\n            <picker @change=\"bindPickerChange\" :value=\"nameIndex\" :range=\"realNameList\">\r\n              <uni-easyinput type=\"text\" v-model=\"form.realName\" suffixIcon=\"arrowdown\" disabled :inputBorder=\"false\"\r\n                placeholder=\"请选择真实姓名\" />\r\n            </picker>\r\n          </uni-forms-item>\r\n          <uni-forms-item label=\"证件号码：\" name=\"idNum\">\r\n            <uni-easyinput type=\"idcard\" v-model=\"form.idNum\" :inputBorder=\"false\" placeholder=\"请输入证件号码\"\r\n              maxlength=\"18\" />\r\n          </uni-forms-item>\r\n        </uni-forms>\r\n        <view class=\"btn-box\">\r\n          <button class=\"btn\" @click=\"nextStep\">下一步</button>\r\n        </view>\r\n        <view class=\"yinsi\">\r\n          <uni-data-checkbox multiple v-model=\"checked\" selectedColor=\"#F14F44\" :localdata=\"localdata\">\r\n          </uni-data-checkbox>\r\n          <!-- <text>我已阅读并同意</text> -->\r\n          <text @click.stop=\"open\" class=\"text\">《隐私条款》</text>\r\n        </view>\r\n      </view>\r\n      <view class=\"rule-box\">\r\n        <view class=\"common-title\">领取须知</view>\r\n        <view class=\"p\" v-for=\"(item,i) in tipList1\" :key=\"i\">{{i+1}}. <text class='span'>{{item}}</text></view>\r\n        <view class=\"p\" @click=\"gotoMiniProgram\"><text class='span'>4. 领取成功之后金额将充值到广东中石化小程序<text\r\n              style='color:#0099ff'>“大家来加油”</text>。</text></view>\r\n      </view>\r\n    </view>\r\n    <view v-if=\"active==1\" class=\"step2-box\">\r\n      <view class=\"p\">请点击下方按钮录制<text class='span'>5秒</text>的视频</view>\r\n      <view class=\"p\">(视频中需包含<text class='span'>点头、摇头</text>动作)</view>\r\n      <view class=\"msg-box\">\r\n        <camera device-position=\"front\" frame-size=\"small\" flash=\"off\" @error=\"error\"\r\n          style=\"width: 100%; height: 100%;\">\r\n          <cover-view class=\"tips\">{{(slider>0 && slider<2)?'请点点头':slider>=2?'请摇摇头':''}}</cover-view>\r\n          <cover-image class=\"img\" src=\"@/static/人像.png\" v-if=\"!videoPopup\"></cover-image>\r\n        </camera>\r\n        <!-- <image class=\"img\" src=\"@/static/人像.png\" alt=\"\"></image> -->\r\n        <!-- <text class=\"tips\">{{(slider>0 && slider<500)?'请点点头':slider>=500?'请摇摇头':''}}</text> -->\r\n\r\n      </view>\r\n      <slider class=\"slider-box\" v-if=\"slider>0\" :value=\"slider\" max=\"4\" disabled activeColor=\"#f14f4480\"\r\n        backgroundColor=\"#ccc\" block-color=\"#f14f44\" block-size=\"20\" />\r\n      <view class=\"remark\">{{failMsg ? `${failMsg},请重新录制` : ' '}}</view>\r\n      <view class=\"remark\">{{slider>0 ? '正在录制中' : ' '}}</view>\r\n      <view class=\"camera-box\">\r\n        <!--  <image class=\"camera\" src=\"../../static/camera.png\" mode=\"aspectFill\" @click=\"takePhoto\" v-if=\"slider==0\">\r\n        </image> -->\r\n        <button class=\"btn\" @click=\"takePhoto\" v-if=\"slider==0\">开始录制</button>\r\n      </view>\r\n    </view>\r\n    <view v-if=\"active==2\">\r\n      <view class=\"qrcode-img\">\r\n        <view class=\"p\">恭喜您获得加油券 <text class='span'>{{moeny}}元 </text></view>\r\n        <view class=\"gd-code\" @click=\"gotoMiniProgram\">\r\n        </view>\r\n        <view class=\"bottom-tips\">点击即可去加油</view>\r\n      </view>\r\n      <view class=\"rule-box\">\r\n        <view class=\"common-title\">注意事项</view>\r\n        <view class=\"p\" v-for=\"(item,i) in tipList\" :key=\"i\">{{i+1}}. <text class='span'>{{item}}</text></view>\r\n        <view class=\"p\" @click=\"callPhone\"><text class='span'>4. 如有疑问，请咨询<text\r\n              style='color:#0099ff;'>400-6310-818</text></text></view>\r\n      </view>\r\n    </view>\r\n    <Pdftext :showpdf.sync=\"showpdf\"></Pdftext>\r\n    <GetOilSuccess :show.sync=\"showSuccess\" :form=\"form\" :moeny=\"moeny\"></GetOilSuccess>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n  import {\r\n    baseURL,\r\n    getOilCardAndInterests\r\n  } from '@/api/index.js'\r\n  import {\r\n    Debounce,\r\n    CheckIdCard\r\n  } from '@/utils/index.js'\r\n  import Pdftext from './components/Pdftext'\r\n  import GetOilSuccess from './components/GetOilSuccess'\r\n  import UploadVideo from './components/UploadVideo'\r\n  export default {\r\n    components: {\r\n      Pdftext,\r\n      GetOilSuccess,\r\n      UploadVideo\r\n    },\r\n    data() {\r\n      return {\r\n        realNameList: [],\r\n        localdata: [{\r\n          \"value\": 1,\r\n          \"text\": \"已阅读并同意\"\r\n        }],\r\n        nameIndex: '',\r\n        showName: false,\r\n        active: 0,\r\n        slider: 0,\r\n        moeny: '',\r\n        form: {\r\n          idNum: '',\r\n          phone: '',\r\n          realName: '',\r\n          imgUrl: ''\r\n        },\r\n        checked: false,\r\n        showpdf: false,\r\n        showSuccess: false,\r\n        failMsg: '',\r\n        tipList1: [\r\n          '请输入您的真实姓名和身份证号码，否则不能领取成功。',\r\n          '为了确保是您本人领取权益我们会采集您的脸部照片进行实名验证。',\r\n          '每个账号每天只能验证3次，请确保输入正确的信息和录入清晰的照片。'\r\n        ],\r\n        tipList: [\r\n          '广东省内任意中石化直营加油站可以使用，有效期180天。',\r\n          '活动赠送优惠，不可开具发票。',\r\n          '每月第一天和最后一天为中石化电子渠道内部结算日期，这两天不可以使用。'\r\n        ],\r\n        videoPopup: false,\r\n        videoSrc: '',\r\n        rules: {\r\n          phone: {\r\n            rules: [{\r\n              required: true,\r\n              errorMessage: '请获取手机号',\r\n            }]\r\n          },\r\n          realName: {\r\n            rules: [{\r\n              required: true,\r\n              errorMessage: '请选择真实名字',\r\n            }]\r\n          },\r\n          idNum: {\r\n            rules: [{\r\n              required: true,\r\n              errorMessage: '请输入身份证号码',\r\n            }]\r\n          },\r\n        }\r\n      }\r\n    },\r\n    onLoad(option) {\r\n      this.form.phone = option.phone || ''\r\n      this.realNameList = option.realNameList.split(',') || []\r\n      if (this.realNameList && this.realNameList.length == 1) {\r\n        this.nameIndex = 0\r\n        this.form.realName = this.realNameList[this.nameIndex]\r\n      }\r\n    },\r\n    onReady() {\r\n      // 需要在onReady中设置规则\r\n      this.$refs.form.setRules(this.rules)\r\n    },\r\n    methods: {\r\n      gotoMiniProgram() { //跳转小程序\r\n        uni.navigateToMiniProgram({\r\n          appId: 'wx32fe2eb8b2fa221f',\r\n          path: '',\r\n          success(res) {\r\n            // 打开成功\r\n          }\r\n        })\r\n      },\r\n      callPhone() { //拨打电话\r\n        uni.makePhoneCall({\r\n          phoneNumber: '4006310818'\r\n        });\r\n      },\r\n      takePhoto: Debounce(function() { //录制视屏\r\n        const ctx = uni.createCameraContext();\r\n        let stop = () => {\r\n          ctx.stopRecord({\r\n            compressed: true,\r\n            success: res => {\r\n              console.log('成功回调', res)\r\n              this.videoSrc = res.tempVideoPath\r\n              if (!this.videoSrc) {\r\n                uni.showToast({\r\n                  title: '录制失败，请刷新页面重试',\r\n                  icon: 'none'\r\n                })\r\n              }\r\n              uni.showLoading({\r\n                mask: true,\r\n                title: '正在上传比对中，请勿关闭'\r\n              })\r\n              this.uploadFile()\r\n            },\r\n            fail: err => {\r\n              console.log('失败回调', err)\r\n            },\r\n          })\r\n        }\r\n        ctx.startRecord({\r\n          success: res => {\r\n            let st = setInterval(() => {\r\n              this.slider++\r\n              if (this.slider >= 4) {\r\n                this.slider = 0\r\n                clearInterval(st)\r\n                stop()\r\n              }\r\n            }, 1000)\r\n          },\r\n          fail: err => {\r\n            uni.showToast({\r\n              title: err\r\n            })\r\n          }\r\n        })\r\n      }),\r\n      error(e) { //相机组件初始化失败\r\n        console.log(e.detail);\r\n        uni.showModal({\r\n          title:'提示',\r\n          content: '相机组件初始化失败，请刷新重试，或检查是否开启摄像头权限',\r\n          showCancel:false\r\n        })\r\n      },\r\n      bindPickerChange(e) { //选择姓名\r\n        console.log('picker发送选择改变，携带值为', e.target.value)\r\n        this.nameIndex = e.target.value\r\n        this.form.realName = this.realNameList[this.nameIndex]\r\n      },\r\n      open() { //打开隐私条款\r\n        this.showpdf = true\r\n        this.checked = [1]\r\n      },\r\n      nextStep() { //下一步\r\n        console.log(123123, this.form.realName, this.form.idNum, this.form.phone, this.checked)\r\n        if (this.active == 0) {\r\n          if (!this.form.phone) {\r\n            uni.showToast({\r\n              icon: 'none',\r\n              title: '请获取手机号码'\r\n            })\r\n            return\r\n          }\r\n          if (!this.form.realName) {\r\n            uni.showToast({\r\n              icon: 'none',\r\n              title: '请选择真实姓名'\r\n            })\r\n            return\r\n          }\r\n          if (!CheckIdCard(this.form.idNum)) {\r\n            uni.showToast({\r\n              icon: 'none',\r\n              title: '请输入正确的身份证号'\r\n            })\r\n            return\r\n          }\r\n          if (!this.checked || !this.checked.length) {\r\n            uni.showToast({\r\n              icon: 'none',\r\n              title: '请先阅读并勾选隐私协议'\r\n            })\r\n            return\r\n          }\r\n        }\r\n        this.active++\r\n      },\r\n      clickStep(index) { //点击步骤条\r\n        // this.active = index\r\n        // if (index == 2) {\r\n        //   this.showSuccess = true\r\n        // }\r\n        if (this.slider) return\r\n        if (index == 0) {\r\n          this.active = 0\r\n        }\r\n      },\r\n      uploadFile() { //上传视频\r\n        uni.uploadFile({\r\n          url: `${baseURL}/uploadFile/baiduUploadFile`,\r\n          filePath: this.videoSrc,\r\n          name: 'mfile',\r\n          success: (res) => {\r\n            console.log(res.data)\r\n            let result = {}\r\n            //判断返回的是不是JSON字符串\r\n            try {\r\n              result = JSON.parse(res.data)\r\n            } catch (e) {\r\n              result = res.data\r\n            }\r\n            if (result.code != 200) {\r\n              uni.hideLoading()\r\n              uni.showToast({\r\n                icon: 'none',\r\n                title: result.msg || '上传失败'\r\n              })\r\n              return\r\n            }\r\n            this.submit(result.data)\r\n          },\r\n          fail: err => {\r\n            uni.hideLoading()\r\n          }\r\n        });\r\n      },\r\n\r\n      submit(imgUrl) {\r\n        let param = Object.assign({}, this.form)\r\n        param.imgUrl = imgUrl\r\n        getOilCardAndInterests(param).then(res => {\r\n          uni.hideLoading()\r\n          console.log(res)\r\n          if (res.code == 200) {\r\n            console.log('成功了')\r\n            this.getOilSuccess(res.data)\r\n          } else {\r\n            console.log('失败了')\r\n            this.getOilError(res.msg)\r\n          }\r\n          this.beforeClose()\r\n        }).catch(err => {\r\n          uni.hideLoading()\r\n          console.log('失败了', err)\r\n          this.getOilError(err.msg)\r\n        })\r\n      },\r\n      getOilSuccess(money) { //获取油成功的回调\r\n        this.moeny = money\r\n        this.active = 2\r\n        this.showSuccess = true\r\n      },\r\n      getOilError(msg) { //获取油失败的回调\r\n        console.log('获取油失败的回调', msg)\r\n        this.failMsg = msg\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n  .box {\r\n    padding: 24rpx 12rpx;\r\n    background: #fdfeff;\r\n  }\r\n\r\n  .common {\r\n    width: 702rpx;\r\n    background: #ffffff;\r\n    box-shadow: 8rpx 8rpx 60rpx rgba(0, 0, 0, 0.08);\r\n    border-radius: 12rpx;\r\n    margin: 0 auto 16rpx;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  .common-btn {\r\n    display: block;\r\n    color: #fff;\r\n    margin: 0rpx auto;\r\n    text-align: center;\r\n    background: linear-gradient(145.43deg, #ffaf9b 10.56%, #f14f44 91.33%);\r\n    border-radius: 16rpx;\r\n    font-weight: bold;\r\n    font-size: 32rpx;\r\n\r\n    &::after {\r\n      border: none;\r\n    }\r\n  }\r\n\r\n  .step-box {\r\n    @extend .common;\r\n    padding: 30rpx 26rpx;\r\n    display: flex;\r\n\r\n    .step {\r\n      text-align: center;\r\n      width: 102rpx;\r\n      height: 152rpx;\r\n\r\n      .img {\r\n        width: 96rpx;\r\n        height: 96rpx;\r\n      }\r\n\r\n      .p {\r\n        margin: 0;\r\n        margin-top: 16rpx;\r\n        font-weight: normal;\r\n        font-size: 26rpx;\r\n        white-space: nowrap;\r\n      }\r\n    }\r\n\r\n    .line {\r\n      flex: 1;\r\n      height: 0px;\r\n      border-bottom: 1px dashed #ddd;\r\n      align-self: center;\r\n    }\r\n\r\n    .active-line {\r\n      border-bottom: 1px dashed #f14f44;\r\n    }\r\n  }\r\n\r\n  .input-box {\r\n    @extend .common;\r\n    padding: 16rpx 26rpx;\r\n\r\n    .btn-box {\r\n      margin-top: 20rpx;\r\n      width: 100%;\r\n      background: #fff;\r\n      padding: 20rpx 0;\r\n      text-align: center;\r\n\r\n      .btn {\r\n        @extend .common-btn;\r\n        height: 80rpx;\r\n        line-height: 80rpx;\r\n        width: 650rpx;\r\n\r\n      }\r\n    }\r\n\r\n    .yinsi {\r\n      width: 100%;\r\n      display: flex;\r\n      justify-content: center;\r\n      // font-size: 36rpx;\r\n      margin: 30rpx 0;\r\n      align-items: center;\r\n\r\n      .text {\r\n        color: #f14f44;\r\n        font-size: 14px;\r\n        margin-left: -44rpx;\r\n        margin-top: -5rpx;\r\n      }\r\n    }\r\n\r\n    .phone-btn {\r\n      @extend .common-btn;\r\n      float: right;\r\n      font-size: 28rpx;\r\n      height: 60rpx;\r\n      line-height: 60rpx;\r\n      width: 250rpx;\r\n    }\r\n  }\r\n\r\n\r\n  .step2-box {\r\n    .p {\r\n      margin: 0;\r\n      margin-bottom: 20rpx;\r\n      white-space: nowrap;\r\n      text-align: center;\r\n\r\n      .span {\r\n        color: #f14f44;\r\n      }\r\n    }\r\n\r\n    .p:nth-child(1) {\r\n      font-weight: bold;\r\n      font-size: 32rpx;\r\n      color: #333333;\r\n    }\r\n\r\n    .p:nth-child(2) {\r\n      font-weight: normal;\r\n      font-size: 32rpx;\r\n      color: #666666;\r\n    }\r\n\r\n    .slider-box {\r\n      width: 480rpx;\r\n      margin-left: 135rpx;\r\n    }\r\n\r\n    .remark {\r\n      width: 100%;\r\n      text-align: center;\r\n      margin-top: 40rpx;\r\n      font-size: 30rpx;\r\n      color: #f14f44;\r\n    }\r\n  }\r\n\r\n  .msg-box {\r\n    width: 480rpx;\r\n    height: 580rpx;\r\n    margin: 84rpx auto 0;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n    position: relative;\r\n\r\n    .img {\r\n      width: 480rpx;\r\n      height: 580rpx;\r\n      position: absolute;\r\n      top: 0;\r\n    }\r\n\r\n    .tips {\r\n      width: 100%;\r\n      text-align: center;\r\n      font-size: 40rpx;\r\n      position: absolute;\r\n      font-weight: bold;\r\n      top: 60rpx;\r\n      color: #f14f44;\r\n    }\r\n\r\n  }\r\n\r\n  .camera-box {\r\n    width: 100%;\r\n    // position: fixed;\r\n    // bottom: 68rpx;\r\n    text-align: center;\r\n    margin-top: 160rpx;\r\n\r\n    .btn {\r\n      @extend .common-btn;\r\n      height: 88rpx;\r\n      line-height: 88rpx;\r\n      width: 650rpx;\r\n    }\r\n\r\n    .camera {\r\n      // display: block;\r\n      margin: 0 auto;\r\n      width: 144rpx;\r\n      height: 144rpx;\r\n      // border: none;\r\n      // input {\r\n      //   width: 72rpx;\r\n      //   height: 72rpx;\r\n      //   opacity: 0;\r\n      // }\r\n    }\r\n  }\r\n\r\n  .qrcode-img {\r\n    @extend .common;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    padding-bottom: 40rpx;\r\n\r\n    .gd-code {\r\n      background: url(\"https://gz.bcebos.com/v1/zhijianche/691983a5-1f6c-4f41-8bd8-a5449d4f5293.png\");\r\n    }\r\n\r\n    .gd-code {\r\n      height: 300rpx;\r\n      width: 300rpx;\r\n      background-size: 100% 100%;\r\n      border-radius: 30rpx;\r\n    }\r\n\r\n    .p {\r\n      font-weight: bold;\r\n      font-size: 38rpx;\r\n      margin: 28rpx 0 44rpx;\r\n\r\n      span {\r\n        font-weight: bold;\r\n        font-size: 40rpx;\r\n        color: #f14f44;\r\n      }\r\n    }\r\n\r\n    .bottom-tips {\r\n      font-weight: normal;\r\n      font-size: 26rpx;\r\n      color: #333333;\r\n    }\r\n  }\r\n\r\n  .rule-box {\r\n    @extend .common;\r\n    padding: 28rpx 20rpx;\r\n\r\n    .common-title {\r\n      margin-bottom: 28rpx;\r\n    }\r\n\r\n    .p {\r\n      margin: 0 0 24rpx;\r\n      font-weight: normal;\r\n      font-size: 24rpx;\r\n      color: #333333;\r\n    }\r\n  }\r\n</style>\r\n<style lang=\"scss\">\r\n  .uni-easyinput__content {\r\n    background: #fff !important;\r\n  }\r\n</style>\n","import mod from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=57280228&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=57280228&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1641450770557\n      var cssReload = require(\"E:/软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=1&lang=scss&\"; export default mod; export * from \"-!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=1&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1641450770526\n      var cssReload = require(\"E:/软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}